build-job:
  image: node:18-alpine3.20
  stage: build
  rules:
      - if: $CI_MERGE_REQUEST_SOURCE_BRANCH_NAME =~ /^feature\/.*/i
        changes:
          - "src/**/*"
          - "*.js"
          - "*.ts"
          - "*.mjs"
          - "package*.json"
          - "tsconfig.json"
  script:
    - echo "Installing Node dependencies"
    - npm install
    - echo "Building the NEXT application"
    - npm run build
    - echo "Generated build files in the dist directory"
